{
  "contractName": "BundleStore",
  "updatedAt": "2018-09-24T12:28:29.609Z",
  "abi": [
    {
      "constant": true,
      "inputs": [],
      "name": "context",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "name": "_head",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "uploader",
          "type": "address"
        }
      ],
      "name": "BundleStored",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "shelterer",
          "type": "address"
        }
      ],
      "name": "SheltererAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "shelterer",
          "type": "address"
        }
      ],
      "name": "SheltererRemoved",
      "type": "event"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        }
      ],
      "name": "bundleExists",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        }
      ],
      "name": "getUploader",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        }
      ],
      "name": "getUploadTimestamp",
      "outputs": [
        {
          "name": "",
          "type": "uint64"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        }
      ],
      "name": "getStoragePeriodsCount",
      "outputs": [
        {
          "name": "",
          "type": "uint64"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        }
      ],
      "name": "getShelterers",
      "outputs": [
        {
          "name": "",
          "type": "address[]"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "shelterer",
          "type": "address"
        }
      ],
      "name": "getShelteringStartDate",
      "outputs": [
        {
          "name": "",
          "type": "uint64"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "shelterer",
          "type": "address"
        }
      ],
      "name": "getTotalShelteringReward",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "shelterer",
          "type": "address"
        }
      ],
      "name": "getShelteringPayoutPeriodsReduction",
      "outputs": [
        {
          "name": "",
          "type": "uint64"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "uploader",
          "type": "address"
        },
        {
          "name": "storagePeriods",
          "type": "uint64"
        },
        {
          "name": "currentTimestamp",
          "type": "uint64"
        }
      ],
      "name": "store",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "shelterer",
          "type": "address"
        },
        {
          "name": "totalReward",
          "type": "uint256"
        },
        {
          "name": "payoutPeriodsReduction",
          "type": "uint64"
        },
        {
          "name": "currentTimestamp",
          "type": "uint64"
        }
      ],
      "name": "addShelterer",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "removeSheltererByIndex",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "shelterer",
          "type": "address"
        }
      ],
      "name": "removeShelterer",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051602080611af98339810180604052810190808051906020019092919050505080806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050611a74806100856000396000f3006080604052600436106100c5576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806309593f0c146100ca5780631e92a4dd1461011b5780632bea7d401461018c57806339bfa9721461020f5780636eefbbc11461028857806388115f87146102e15780638c7ed4561461035a5780638cfbe25b146103bf57806390df4035146103fa5780639cc8a3d3146104535780639d28e7a7146104cc5780639e75be4914610515578063d0496d6a1461059b575b600080fd5b3480156100d657600080fd5b506101196004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506105f2565b005b34801561012757600080fd5b5061014a60048036038101908080356000191690602001909291905050506108cb565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561019857600080fd5b5061020d6004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803567ffffffffffffffff169060200190929190803567ffffffffffffffff169060200190929190505050610913565b005b34801561021b57600080fd5b5061025e6004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610dd5565b604051808267ffffffffffffffff1667ffffffffffffffff16815260200191505060405180910390f35b34801561029457600080fd5b506102b76004803603810190808035600019169060200190929190505050610e77565b604051808267ffffffffffffffff1667ffffffffffffffff16815260200191505060405180910390f35b3480156102ed57600080fd5b506103586004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803567ffffffffffffffff169060200190929190803567ffffffffffffffff169060200190929190505050610eb3565b005b34801561036657600080fd5b506103a96004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061122d565b6040518082815260200191505060405180910390f35b3480156103cb57600080fd5b506103f8600480360381019080803560001916906020019092919080359060200190929190505050611296565b005b34801561040657600080fd5b5061042960048036038101908080356000191690602001909291905050506116e0565b604051808267ffffffffffffffff1667ffffffffffffffff16815260200191505060405180910390f35b34801561045f57600080fd5b506104a26004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061171c565b604051808267ffffffffffffffff1667ffffffffffffffff16815260200191505060405180910390f35b3480156104d857600080fd5b506104fb6004803603810190808035600019169060200190929190505050611799565b604051808215151515815260200191505060405180910390f35b34801561052157600080fd5b5061054460048036038101908080356000191690602001909291905050506117b7565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561058757808201518184015260208101905061056c565b505050509050019250505060405180910390f35b3480156105a757600080fd5b506105b0611863565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b60006105fc611863565b73ffffffffffffffffffffffffffffffffffffffff166302008d51336040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15801561069657600080fd5b505af11580156106aa573d6000803e3d6000fd5b505050506040513d60208110156106c057600080fd5b8101908080519060200190929190505050151561076b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001807f546865206d6573736167652073656e646572206973206e6f742077686974656c81526020017f69737465642062792074686520636f6e7465787400000000000000000000000081525060400191505060405180910390fd5b61077483611799565b151561077f57600080fd5b600090505b600160008460001916600019168152602001908152602001600020600101805490508110156108c5578173ffffffffffffffffffffffffffffffffffffffff16600160008560001916600019168152602001908152602001600020600101828154811015156107ef57fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156108b8576108408382611296565b7fc5eb711c58cddc98e191455ec6df357e70e641a4579c29eb0f009eac1047623b83836040518083600019166000191681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a16108c6565b8080600101915050610784565b5b505050565b600060016000836000191660001916815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b600061091d611863565b73ffffffffffffffffffffffffffffffffffffffff166302008d51336040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b1580156109b757600080fd5b505af11580156109cb573d6000803e3d6000fd5b505050506040513d60208110156109e157600080fd5b81019080805190602001909291905050501515610a8c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001807f546865206d6573736167652073656e646572206973206e6f742077686974656c81526020017f69737465642062792074686520636f6e7465787400000000000000000000000081525060400191505060405180910390fd5b610a9586611799565b1515610aa057600080fd5b600090505b60016000876000191660001916815260200190815260200160002060010180549050811015610b6b578473ffffffffffffffffffffffffffffffffffffffff1660016000886000191660001916815260200190815260200160002060010182815481101515610b1057fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151515610b5e57600080fd5b8080600101915050610aa5565b6001600087600019166000191681526020019081526020016000206001018590806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550508160016000886000191660001916815260200190815260200160002060020160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160006101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055508360016000886000191660001916815260200190815260200160002060020160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101819055508260016000886000191660001916815260200190815260200160002060020160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160086101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055507feb687f41634dc064abd8231b4a7fc182cd16d2372b98e207c39a9cb436d2dccc86866040518083600019166000191681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a1505050505050565b600080610de2848461171c565b67ffffffffffffffff161415610dfb5760009050610e71565b60016000846000191660001916815260200190815260200160002060020160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160089054906101000a900467ffffffffffffffff1690505b92915050565b600060016000836000191660001916815260200190815260200160002060030160009054906101000a900467ffffffffffffffff169050919050565b610ebb611863565b73ffffffffffffffffffffffffffffffffffffffff166302008d51336040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b158015610f5557600080fd5b505af1158015610f69573d6000803e3d6000fd5b505050506040513d6020811015610f7f57600080fd5b8101908080519060200190929190505050151561102a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001807f546865206d6573736167652073656e646572206973206e6f742077686974656c81526020017f69737465642062792074686520636f6e7465787400000000000000000000000081525060400191505060405180910390fd5b61103384611799565b15151561103f57600080fd5b60008267ffffffffffffffff1611151561105857600080fd5b6080604051908101604052808473ffffffffffffffffffffffffffffffffffffffff1681526020018267ffffffffffffffff16815260200160006040519080825280602002602001820160405280156110c05781602001602082028038833980820191505090505b5081526020018367ffffffffffffffff1681525060016000866000191660001916815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160000160146101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550604082015181600101908051906020019061118192919061192a565b5060608201518160030160006101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055509050507f9a8974aeaf2fa4a5bfe46041ec8a404e94d1e9c4d37fcce995f60f8d311c3acb84846040518083600019166000191681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a150505050565b600060016000846000191660001916815260200190815260200160002060020160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010154905092915050565b61129e611863565b73ffffffffffffffffffffffffffffffffffffffff166302008d51336040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15801561133857600080fd5b505af115801561134c573d6000803e3d6000fd5b505050506040513d602081101561136257600080fd5b8101908080519060200190929190505050151561140d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001807f546865206d6573736167652073656e646572206973206e6f742077686974656c81526020017f69737465642062792074686520636f6e7465787400000000000000000000000081525060400191505060405180910390fd5b61141682611799565b151561142157600080fd5b806001600084600019166000191681526020019081526020016000206001018054905011151561145057600080fd5b60016000836000191660001916815260200190815260200160002060020160006001600085600019166000191681526020019081526020016000206001018381548110151561149b57fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600080820160006101000a81549067ffffffffffffffff02191690556000820160086101000a81549067ffffffffffffffff02191690556001820160009055505060016000836000191660001916815260200190815260200160002060010160018060008560001916600019168152602001908152602001600020600101805490500381548110151561158f57fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600160008460001916600019168152602001908152602001600020600101828154811015156115e557fe5b9060005260206000200160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060016000836000191660001916815260200190815260200160002060010160018060008560001916600019168152602001908152602001600020600101805490500381548110151561167b57fe5b9060005260206000200160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560018060008460001916600019168152602001908152602001600020600101818180549050039150816116db91906119b4565b505050565b600060016000836000191660001916815260200190815260200160002060000160149054906101000a900467ffffffffffffffff169050919050565b600060016000846000191660001916815260200190815260200160002060020160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900467ffffffffffffffff16905092915050565b6000806117a583610e77565b67ffffffffffffffff16119050919050565b606060016000836000191660001916815260200190815260200160002060010180548060200260200160405190810160405280929190818152602001828054801561185757602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001906001019080831161180d575b50505050509050919050565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d0496d6a6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b1580156118ea57600080fd5b505af11580156118fe573d6000803e3d6000fd5b505050506040513d602081101561191457600080fd5b8101908080519060200190929190505050905090565b8280548282559060005260206000209081019282156119a3579160200282015b828111156119a25782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055509160200191906001019061194a565b5b5090506119b091906119e0565b5090565b8154818355818111156119db578183600052602060002091820191016119da9190611a23565b5b505050565b611a2091905b80821115611a1c57600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055506001016119e6565b5090565b90565b611a4591905b80821115611a41576000816000905550600101611a29565b5090565b905600a165627a7a72305820614effe6bf042d546b8bb2f1e73e9377686106a13e63d29e22ad18b4345755240029"
}